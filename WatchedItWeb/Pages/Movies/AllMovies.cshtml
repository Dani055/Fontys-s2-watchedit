
@page
@using ClassLibraries.models
@model WatchedItWeb.Pages.Movies.AllMoviesModel


<div class="wrapper">
    <div class="movies-header">
        <h2 class="heading">All movies</h2>
        <form class="search">
            <input type="text" asp-for="keyword" placeholder="Search...">
            <button type="submit">Go</button>
        </form>
    </div>
    <div class="row">
        @foreach (Movie m in Model.movies)
        {
            <div class="card-movie">
                <a asp-page="/Movies/MovieDetails" asp-route-m="true" asp-route-movieId="@m.Id">
                    <div class="arbox">
                        <div class="media">
                            <img src="@m.ImageUrl" alt="">
                        </div>
                    </div>
                    <p>@m.Name</p>
                </a>
            </div>
        }
        @if (Model.keyword == null)
        {
            <a asp-route-currentpage="@(Model.CurrentPage + 1)" class="load-more">Load more...</a>
        }
    </div>
</div>